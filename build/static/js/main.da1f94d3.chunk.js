(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{109:function(t,e,n){},110:function(t,e,n){"use strict";n.r(e);var r,c,a,o,u,i,s,b=n(0),j=n(25),d=n.n(j),f=n(18),l=n(35),O=n(36),p=n(38),h=n(37),x=n(14),m=n(26),v=function(t){return t.auth.idToken},g=function(t){return t.auth.name},k=n(15),y=[{name:"Home",path:"/",component:Object(b.lazy)((function(){return n.e(5).then(n.bind(null,112))})),exact:!0,isPrivate:!1,restricted:!1},{name:"Contacts",path:"/contacts",component:Object(b.lazy)((function(){return n.e(4).then(n.bind(null,113))})),exact:!0,isPrivate:!0,restricted:!1},{name:"Register",path:"/register",component:Object(b.lazy)((function(){return n.e(0).then(n.bind(null,114))})),exact:!0,isPrivate:!1,restricted:!0},{name:"Login",path:"/login",component:Object(b.lazy)((function(){return n.e(0).then(n.bind(null,114))})),exact:!0,isPrivate:!1,restricted:!0}],C=n(1),w=function(t){var e=t.path,n=t.exact,r=t.name,c=t.isPrivate,a=t.restricted,o=t.isAuth;return Object(C.jsxs)(C.Fragment,{children:[!c&&!a&&Object(C.jsx)("li",{className:"navItem",children:Object(C.jsx)(f.b,{className:"navLink",activeClassName:"navLinkActive",to:e,exact:n,children:r.toUpperCase()})},e),c&&!a&&o&&Object(C.jsx)("li",{className:"navItem",children:Object(C.jsx)(f.b,{className:"navLink",activeClassName:"navLinkActive",to:e,exact:n,children:r.toUpperCase()})},e),!c&&a&&!o&&Object(C.jsx)("li",{className:"navItem",children:Object(C.jsx)(f.b,{className:"navLink",activeClassName:"navLinkActive",to:e,exact:n,children:r.toUpperCase()})},e)]})},A=n(22),N=n(23),L=N.a.nav(r||(r=Object(A.a)(["\n  padding-left: 10px;\n  padding-right: 10px;\n  .navList {\n    display: flex;\n    list-style: none;\n  }\n  .navItem {\n    margin-right: 20px;\n  }\n  .navLink {\n    color: white;\n    text-decoration: none;\n  }\n  .navLinkActive {\n    border-bottom: 2px solid;\n  }\n"]))),T=Object(x.b)((function(t){return{isAuth:v(t)}}))((function(t){var e=t.isAuth;return Object(C.jsx)(L,{children:Object(C.jsx)("ul",{className:"navList",children:y.map((function(t){return Object(b.createElement)(w,Object(k.a)(Object(k.a)({},t),{},{key:t.path,isAuth:e}))}))})})})),U=N.a.div(c||(c=Object(A.a)(["\n  display: flex;\n  align-items: center;\n\n  margin-left: auto;\n  .text {\n    font-weight: 700;\n    font-size: 16px;\n    color: #f1e7f3;\n  }\n  button {\n    margin-left: 10px;\n    font-size: 14px;\n    padding: 10px;\n    font-weight: 700;\n    color: #6d92c2;\n    border: none;\n    border-radius: 10px;\n    background-color: transparent;\n    box-shadow: 0px 1px 13px 0px #696665;\n    cursor: pointer;\n  }\n  button:hover,\n  :focus {\n    color: #c7c1c1;\n    box-shadow: 0px 1px 13px 0px #e9d8d9;\n  }\n"]))),z=Object(x.b)((function(t){return{username:g(t)}}),{logOutOperation:m.b})((function(t){var e=t.username,n=t.logOutOperation;return Object(C.jsxs)(U,{children:[Object(C.jsxs)("p",{className:"text",children:["Welcome, ",Object(C.jsx)("span",{className:"",children:e})]}),Object(C.jsx)("button",{className:"",type:"button",onClick:n,children:"Logout"})]})})),E=N.a.header(a||(a=Object(A.a)(["\n  height: 60px;\n  background-color: #49494c;\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  padding-right: 10px;\n"]))),R=Object(x.b)((function(t){return{isAuth:v(t)}}))((function(t){var e=t.isAuth;return Object(C.jsxs)(E,{children:[Object(C.jsx)(T,{}),e&&Object(C.jsx)(z,{})]})})),S=n(7),q=function(t){var e=t.isAuth,n=t.path,r=t.component,c=t.exact;return e?Object(C.jsx)(S.b,{path:n,exact:c,component:r}):Object(C.jsx)(S.a,{to:"/register"})},P=function(t){var e=t.isAuth,n=t.path,r=t.component,c=t.exact,a=t.restricted;return e&&a?Object(C.jsx)(S.a,{to:"/contacts"}):Object(C.jsx)(S.b,{path:n,exact:c,component:r})},I=n(48),F=Object(x.b)((function(t){return{isAuth:v(t)}}))((function(t){var e=t.isAuth;return Object(C.jsx)(b.Suspense,{fallback:Object(C.jsx)(I.a,{}),children:Object(C.jsx)(S.d,{children:y.map((function(t){var n=t.isPrivate,r=t.path,c=t.exact,a=t.component,o=t.restricted;return n?Object(C.jsx)(q,{path:r,exact:c,component:a,isAuth:e},r):Object(C.jsx)(P,{path:r,exact:c,component:a,isAuth:e,restricted:o},r)}))})})})),J=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(t){this.props.idToken&&t.idToken!==this.props.idToken&&this.props.currentUserOperation()}},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{}),Object(C.jsx)(F,{})]})}}]),n}(b.Component),B=Object(x.b)((function(t){return{idToken:v(t)}}),{currentUserOperation:m.a})(J),D=n(28),H=n(2),W=n(17),G=n(9),K=n(54),M=n.n(K),Q=n(3),V=n(8),X=Object(H.c)([],(o={},Object(Q.a)(o,V.j,(function(t,e){return e.payload})),Object(Q.a)(o,V.c,(function(t,e){var n=e.payload;return[].concat(Object(D.a)(t),[n])})),Object(Q.a)(o,V.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),o)),Y=Object(H.c)("",(u={},Object(Q.a)(u,V.i,(function(){return""})),Object(Q.a)(u,V.h,(function(t,e){return e.payload})),Object(Q.a)(u,V.b,(function(){return""})),Object(Q.a)(u,V.a,(function(t,e){return e.payload})),Object(Q.a)(u,V.f,(function(){return""})),Object(Q.a)(u,V.e,(function(t,e){return e.payload})),u)),Z=Object(H.c)(!1,(i={},Object(Q.a)(i,V.i,(function(){return!0})),Object(Q.a)(i,V.j,(function(){return!1})),Object(Q.a)(i,V.h,(function(){return!1})),Object(Q.a)(i,V.b,(function(){return!0})),Object(Q.a)(i,V.c,(function(){return!1})),Object(Q.a)(i,V.a,(function(){return!1})),Object(Q.a)(i,V.f,(function(){return!0})),Object(Q.a)(i,V.g,(function(){return!1})),Object(Q.a)(i,V.e,(function(){return!1})),i)),$=Object(H.c)("",Object(Q.a)({},V.d,(function(t,e){return e.payload}))),_=Object(G.b)({contacts:X,filter:$,loading:Z,error:Y}),tt=n(6),et=Object(H.c)({name:"",email:"",idToken:"",error:""},(s={},Object(Q.a)(s,tt.l,(function(t,e){var n=e.payload;return{name:n.user.name,email:n.user.email,idToken:n.token}})),Object(Q.a)(s,tt.i,(function(t,e){var n=e.payload;return{name:n.user.name,email:n.user.email,idToken:n.token}})),Object(Q.a)(s,tt.f,(function(){return{name:"",email:"",idToken:""}})),Object(Q.a)(s,tt.c,(function(t,e){var n=e.payload;return Object(k.a)(Object(k.a)({},t),n)})),Object(Q.a)(s,tt.j,(function(t,e){return{error:e.payload}})),Object(Q.a)(s,tt.g,(function(t,e){return{error:e.payload}})),Object(Q.a)(s,tt.d,(function(t,e){return{error:e.payload}})),Object(Q.a)(s,tt.a,(function(t,e){return{error:e.payload}})),s)),nt={key:"root",storage:M.a,whitelist:["idToken"]},rt=Object(G.b)({items:_,auth:Object(W.g)(nt,et)}),ct=Object(D.a)(Object(H.d)({serializableCheck:{ignoredActions:[W.a,W.f,W.b,W.c,W.d,W.e]}})),at=Object(H.a)({reducer:rt,middleware:ct});Object(W.h)(at);var ot=at;n(108),n(109);d.a.render(Object(C.jsx)(x.a,{store:ot,children:Object(C.jsx)(f.a,{children:Object(C.jsx)(B,{})})}),document.getElementById("root"))},26:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return O}));var r=n(19),c=n.n(r),a=n(15),o=n(24),u=n(21),i=n.n(u),s=n(6);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var b=function(t){i.a.defaults.headers.common.Authorization=t},j=function(){i.a.defaults.headers.common.Authorization=""},d=function(t){return function(){var e=Object(o.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.k)()),e.prev=1,e.next=4,i.a.post("/users/signup",Object(a.a)({},t));case 4:r=e.sent,o=r.data,b(o.token),n(Object(s.l)(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(s.j)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(o.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.h)()),e.prev=1,e.next=4,i.a.post("/users/login",Object(a.a)({},t));case 4:r=e.sent,o=r.data,b(o.token),n(Object(s.i)(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(s.g)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(){var e=Object(o.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.e)()),e.prev=1,e.next=4,i.a.post("/users/logout",t);case 4:r=e.sent,a=r.data,j(),n(Object(s.f)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(s.d)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var t=Object(o.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(s.b)()),b(n().auth.idToken),t.prev=2,t.next=5,i.a.get("/users/current");case 5:r=t.sent,e(Object(s.c)(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e(Object(s.a)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()}},48:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var r=n(53),c=n.n(r),a=n(1),o=function(){return Object(a.jsx)(c.a,{type:"Circles",color:"#636571",height:40,width:40,timeout:5e3,className:"loader"})}},6:function(t,e,n){"use strict";n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return O}));var r=n(2),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),i=Object(r.b)("auth/loginSuccess"),s=Object(r.b)("auth/loginError"),b=Object(r.b)("auth/logOutRequest"),j=Object(r.b)("auth/logOutSuccess"),d=Object(r.b)("auth/logOutError"),f=Object(r.b)("auth/getCurrentUserRequest"),l=Object(r.b)("auth/getCurrentUserSuccess"),O=Object(r.b)("auth/getCurrentUserError")},8:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return f}));var r=n(2),c=Object(r.b)("fetchContactsRequest"),a=Object(r.b)("fetchContactsSuccess"),o=Object(r.b)("fetchContactsError"),u=Object(r.b)("contacts/addContactRequest ="),i=Object(r.b)("contacts/addContactSuccess"),s=Object(r.b)("contacts/addContactError"),b=Object(r.b)("contacts/deleteContactRequest"),j=Object(r.b)("contacts/deleteContactSuccess"),d=Object(r.b)("contacts/deleteContactError"),f=Object(r.b)("contacts/changeFilter")}},[[110,2,3]]]);
//# sourceMappingURL=main.da1f94d3.chunk.js.map